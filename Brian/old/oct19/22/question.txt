I'm a beginner in Django. I'm making a data scraping project, I've made this code but facing problem to download the CSV file.
I used The function 'Download' in the file but not getting the desired result. Instead, I'm getting this error

` Invalid URL '': No schema supplied. Perhaps you meant http://? ` 

Here is my code

views.py

    def index(request):
    if request.method == "POST":

        url  = request.POST.get('url', '')
        
	down = request.POST.get('download','')

        r = requests.get(url)
        soup = BeautifulSoup(r.content, features="lxml")
        p_name = soup.find_all("h2",attrs={"class": "a-size-mini"})
        p_price = soup.find_all("span",attrs={"class": "a-price-whole"})
        p_image = soup.findAll('img', {'class':'s-image','src':re.compile('.jpg')})

        response = HttpResponse(content_type='text/csv')
        response['Content-Disposition'] = 'attachment; filename="product_file.csv"'


        for name,price,image in zip(p_name,p_price,p_image):
            writer = csv.writer(response)
            row = writer.writerow([name.text, price.text,image['src']])

            name_data  = [data.text for data in p_name]
            price_data = [data.text for data in p_price]
            image_data = [data['src'] for data in p_image]
            dec = {'name':name_data, 'price':price_data, 'image':image_data}
	
        
        
        if down:
            return response

        

    else:
        dec = {}
    return render(request, 'index.html',dec)

When i remove this "if down:" it downloads my csv file correctly, when i keep the if condition it throws error :

` Invalid URL '': No schema supplied. Perhaps you meant http://? ` 

index.html

    <div class="container">
    <div class="row justify-content-md-center">
        <div class="col-md-4">
            <form method="POST" action="">{% csrf_token %}
                <h1 class="mb-3 display-4">Amazone Scraper</h1>
                <input type="text" id="url" name="url" class="form-control" placeholder="URL" required autofocus>
                <button class="mt-3 btn btn-lg btn-primary btn-block" type="submit" id="submit" name='submit'>Scrap</button>
            </form>
            <p class="mt-3"><a href="upload">Upload</a> Your File For Updates Regarding</p>
            <form action="" method="post">{% csrf_token %}<!--------download---------->
              <input class="mt-3 btn btn-info" type="submit" id="download" name='download' value='Download'/>
            </form>
        </div>
    </div>
    <div class="row">

